<div id="map"></div>
<script>
  var map = new UnlSdk.Map({
    container: "map",
    apiKey: "QcVw1BwU4hJJpwRlL7hq6tdDPQKr3iAG",
    vpmId: "f2880ebb-4be3-4902-8fda-feddcf6920db",
    center: [0, 0],
    zoom: 2,
  });

  var marker = new UnlSdk.Marker();

  function animateMarker(timestamp) {
    var radius = 20;

    // Update the data to a new position based on the animation timestamp. The
    // divisor in the expression `timestamp / 1000` controls the animation speed.
    marker.setLngLat([
      Math.cos(timestamp / 1000) * radius,
      Math.sin(timestamp / 1000) * radius,
    ]);

    // Ensure it's added to the map. This is safe to call if it's already added.
    marker.addTo(map);

    // Request the next frame of the animation.
    requestAnimationFrame(animateMarker);
  }

  // Start the animation.
  requestAnimationFrame(animateMarker);
</script>
